---
services_area:
  enable: true
  title: "OUR SERVICES"
  sub_title: "The full service we are offering is specifically designed to meet your business needs."
  services:

    - title: "Web Design"
      image: "/assets/images/art/g1.jpg"
      description: |
        Maecenas faucibus mollis interdum. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus.
      button_text: "Learn More"
      button_url: "#"

    - title: "App Development"
      image: "/assets/images/art/g2.jpg"
      description: |
        Maecenas faucibus mollis interdum. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus.
      button_text: "Learn More"
      button_url: "#"

    - title: "Corporate Design"
      image: "/assets/images/art/g3.jpg"
      description: |
        Maecenas faucibus mollis interdum. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus.
      button_text: "Learn More"
      button_url: "#"

title: Demo site
layout : default
---
{% include header.html extra_class="absolute transparent" logo_class="logo" %}

{% if page.services_area.enable %}
<div class="wrapper white-wrapper">
  <div class="container inner">
  	{% if page.services_area.enable %}
    <div class="row">
    	<div class="col-md-7 mx-auto">
		    <h2 class="title-color color-gray text-center">{{page.services_area.title}}</h2>
		    <h3 class="display-3 text-center">{{page.services_area.sub_title}}</h3>
		    <div class="space40"></div>
    	</div>
    </div>	
    {% endif %}
    {% if page.services_area.enable %}
    <div id="target" class="row gutter-60 text-center align-items-end">
      
      {% comment %}

        {% for service in  page.services_area.services  %}
        <div class="col-md-4">
          {% if service.image %}
          <div class="img-blob blob8 mb-30">
            <img src="{{service.image}}" style="width: 30rem" alt="{{service.title}}"/>
          </div>
          {% endif %}
          <h4>{{service.title}}</h4>
          <p class="mb-15">{{service.description}}</p>
          {% if service.button_text %}
          <div class="text-center"><a href="{{service.button_url}}" class="more">{{service.button_text}}</a></div>
          {% endif %}
        </div>
        {% endfor %}

      {% endcomment %}

    </div>
    <!--/.row -->
    {% endif %}
  </div>
</div>
<!-- /.wrapper -->
{% endif %}

<!-- <div id='target'></div> -->
<script>
  var Airtable = require('airtable');
  var base = new Airtable({ apiKey: 'keyseIoCRcu2Bd157' }).base('appNFHQ99gllMSqiE');

  let target = document.getElementById('target');
  let textContent = document.createDocumentFragment();

  base('Service').select({ // Selecting the first 3 records in Grid view:
    // maxRecords: 100,
    view: "Grid view"
  }).eachPage(function page(records, fetchNextPage) { // This function (`page`) will get called for each page of records.

    records.map(function (record) {
      console.log('Retrieved: ', record.get('Name') + ' ' + record.get('Text'));

      let title = document.createElement('h4');
      let text = document.createElement('p');
      text.classList.add("mb-15");
      let container = document.createElement('div');

      container.appendChild(title);
      container.appendChild(text);
      textContent.appendChild(container);


      title = record.get('Name');
      text = record.get('Text');
      image = record.get('Image');

      let html = `<div class="col-md-4">`
      html += `<div class="img-blob blob8 mb-30">
        	<img src="${image}" style="width: 30rem" "/>
        </div>
        <h4>${title}</h4>
        
        <p class="mb-15">${text}</p>
         <div class="text-center"><a href="#" class="more">Learn More</a></div>
        `
     

      html += `</div>`;
      
    });
    console.log(`html`, html)
    document.getElementById("target").innerHTML = html;
    // target.appendChild(html);


    // To fetch the next page of records, call `fetchNextPage`.
    // If there are more records, `page` will get called again.
    // If there are no more records, `done` will get called.
    fetchNextPage();

  }, function done(err) {
    if (err) {
      console.error(err);
      return;
    }
  });
</script>